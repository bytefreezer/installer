# ByteFreezer Piper Configuration
# Managed by Ansible

server:
  api_port: {{ piper_api_port }}
  metrics_port: {{ piper_metrics_port }}

s3_source:
  endpoint: "{{ s3_endpoint }}"
  region: "{{ s3_region }}"
  bucket: "{{ s3_buckets.intake }}"
  ssl: {{ s3_use_ssl | lower }}

s3_destination:
  endpoint: "{{ s3_endpoint }}"
  region: "{{ s3_region }}"
  bucket: "{{ s3_buckets.piper }}"
  ssl: {{ s3_use_ssl | lower }}

s3_geoip:
  endpoint: "{{ s3_endpoint }}"
  region: "{{ s3_region }}"
  bucket: "{{ s3_buckets.geoip }}"
  ssl: {{ s3_use_ssl | lower }}

processing:
  max_concurrent_jobs: {{ piper_max_concurrent_jobs }}
  job_timeout_seconds: 600
  retry_attempts: 3
  retry_backoff: exponential

control_service:
  enabled: true
  control_url: "{{ control_service_url }}"
  timeout_seconds: 30

health_reporting:
  enabled: true
  report_interval: 30
